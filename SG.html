<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USANA Pricelist - Singapore</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #003d82 0%, #0066cc 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #003d82 0%, #0066cc 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .grand-total-bar {
            background: linear-gradient(135deg, #003d82 0%, #0052a3 100%);
            color: white;
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 2em;
            font-weight: 700;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
        }

        .grand-total-bar .label {
            font-size: 1em;
            letter-spacing: 1px;
        }

        .grand-total-bar .amount {
            font-size: 1.3em;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .controls-bar {
            padding: 25px 40px;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .reset-btn {
            background: #003d82;
            color: white;
            border: none;
            padding: 14px 35px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(0, 61, 130, 0.3);
        }

        .reset-btn:hover {
            background: #002952;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 61, 130, 0.4);
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px;
            font-size: 1.1em;
            border: 2px solid #e9ecef;
            border-radius: 50px;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .table-container {
            padding: 30px 40px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.15em;
        }

        thead {
            background: linear-gradient(135deg, #003d82 0%, #0066cc 100%);
            color: white;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        th {
            padding: 22px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 1.15em;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            cursor: pointer;
            user-select: none;
            position: relative;
        }

        th:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        th.sortable::after {
            content: 'â‡…';
            margin-left: 8px;
            opacity: 0.5;
            font-size: 0.9em;
        }

        th.sorted-asc::after {
            content: 'â–²';
            opacity: 1;
        }

        th.sorted-desc::after {
            content: 'â–¼';
            opacity: 1;
        }

        th.item-col {
            width: 100px;
            text-align: center;
        }

        th.points-col {
            width: 100px;
            text-align: center;
        }

        th.qty-col, th.price-col, th.total-col {
            text-align: center;
            width: 130px;
        }

        td {
            padding: 20px 18px;
            border-bottom: 1px solid #e9ecef;
        }

        tbody tr {
            transition: all 0.2s;
        }

        tbody tr:hover {
            background: #f0f7ff;
            transform: scale(1.001);
        }

        .item-number {
            text-align: center;
            font-weight: 700;
            color: #003d82;
            font-size: 1.05em;
        }

        .product-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.05em;
            line-height: 1.4;
        }

        .points {
            text-align: center;
            font-weight: 700;
            color: #0066cc;
            font-size: 1.1em;
        }

        .qty-input {
            width: 90px;
            padding: 14px;
            font-size: 1.3em;
            text-align: center;
            border: 3px solid #e9ecef;
            border-radius: 12px;
            font-weight: 700;
            transition: all 0.3s;
            cursor: pointer;
            background: white;
        }

        .qty-input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.15);
            background: #f0f7ff;
        }

        .qty-input:hover {
            border-color: #0066cc;
        }

        .qty-input.has-value {
            background: #e6f2ff;
            border-color: #0066cc;
        }

        .price, .subtotal {
            font-weight: 700;
            font-size: 1.2em;
            text-align: center;
        }

        .price {
            color: #003d82;
        }

        .subtotal {
            color: #0066cc;
            font-size: 1.3em;
        }

        .subtotal.has-value {
            animation: pulse 0.3s ease-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .no-results {
            text-align: center;
            padding: 60px 30px;
            color: #6c757d;
            font-size: 1.3em;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .header p {
                font-size: 1.1em;
            }

            .header .subtitle {
                font-size: 1em;
            }

            .grand-total-bar {
                font-size: 1.2em;
                flex-direction: column;
                gap: 10px;
                padding: 20px;
            }

            .controls-bar {
                padding: 20px;
                flex-direction: column;
            }

            .search-box {
                width: 100%;
                min-width: 100%;
            }

            .reset-btn {
                width: 100%;
            }

            table {
                font-size: 0.9em;
            }

            th, td {
                padding: 12px 8px;
            }

            .qty-input {
                width: 60px;
                padding: 10px;
                font-size: 1em;
            }

            .item-col {
                display: none;
            }

            .points-col {
                width: 60px;
            }

            .product-name {
                font-size: 0.95em;
            }

            .price, .subtotal {
                font-size: 1em;
            }
        }

        .info-banner {
            background: linear-gradient(135deg, #e6f2ff 0%, #cce5ff 100%);
            padding: 20px 40px;
            border-bottom: 2px solid #0066cc;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .info-banner .icon {
            font-size: 2em;
        }

        .info-banner .text {
            flex: 1;
            color: #003d82;
            font-size: 1.05em;
            line-height: 1.5;
        }

        .info-banner .text strong {
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŒŸ USANA Health Sciences</h1>
            <p>Singapore Pricelist</p>
            <div class="subtitle">Price effective 3 January 2026 | Prices include 9% GST</div>
        </div>

        <div class="info-banner">
            <div class="icon">ðŸ’°</div>
            <div class="text">
                <strong>Preferred Prices shown below.</strong> Subscribe & Save price is 10% less than the Preferred Price shown.
            </div>
        </div>

        <div class="grand-total-bar">
            <span class="label">GRAND TOTAL:</span>
            <span class="amount" id="grandTotal">$0.00</span>
        </div>

        <div class="controls-bar">
            <button class="reset-btn" onclick="resetQuantities()">ðŸ”„ Reset All</button>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="ðŸ” Search products..." oninput="filterProducts()">
            </div>
        </div>

        <div class="table-container">
            <table id="priceTable">
                <thead>
                    <tr>
                        <th class="item-col sortable" onclick="sortTable('item')">Item #</th>
                        <th class="sortable" onclick="sortTable('name')">Product Name</th>
                        <th class="points-col sortable" onclick="sortTable('points')">Points</th>
                        <th class="price-col sortable" onclick="sortTable('price')">Price (SGD)</th>
                        <th class="qty-col">Quantity</th>
                        <th class="total-col sortable" onclick="sortTable('subtotal')">Subtotal</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // USANA Products Data
        const USANA_PRODUCTS = [
  {
    "item": "167",
    "name": "USANA Energy Kit",
    "points": 200,
    "price": 540.0
  },
  {
    "item": "497",
    "name": "Celavive Starter Kit",
    "points": 207,
    "price": 500.0
  },
  {
    "item": "669",
    "name": "Bi-Phase Makeup Remover Twin Pack",
    "points": 19,
    "price": 75.0
  },
  {
    "item": "670",
    "name": "Creamy Foam Cleanser Twin Pack",
    "points": 20,
    "price": 75.0
  },
  {
    "item": "671",
    "name": "Perfecting Toner Twin Pack",
    "points": 39,
    "price": 122.0
  },
  {
    "item": "677",
    "name": "Contouring Face & Neck CrÃ¨me Special",
    "points": 52,
    "price": 121.0
  },
  {
    "item": "678",
    "name": "Triple Action Eye Cream Special",
    "points": 52,
    "price": 117.0
  },
  {
    "item": "682",
    "name": "Serum Pack",
    "points": 112,
    "price": 279.0
  },
  {
    "item": "101",
    "name": "CellSentials",
    "points": 38,
    "price": 105.0
  },
  {
    "item": "105",
    "name": "Usanimals",
    "points": 9,
    "price": 30.0
  },
  {
    "item": "110",
    "name": "Proflavanol C100",
    "points": 35,
    "price": 82.0
  },
  {
    "item": "120",
    "name": "MagneCal D",
    "points": 15,
    "price": 39.0
  },
  {
    "item": "122",
    "name": "BiOmega",
    "points": 15,
    "price": 48.0
  },
  {
    "item": "123",
    "name": "CoQuinone 30",
    "points": 32,
    "price": 80.0
  },
  {
    "item": "142",
    "name": "CoQuinone 100",
    "points": 32,
    "price": 110.0
  },
  {
    "item": "126",
    "name": "CopaPrime+",
    "points": 25,
    "price": 65.0
  },
  {
    "item": "128",
    "name": "Palmetto Plus",
    "points": 20,
    "price": 69.0
  },
  {
    "item": "129",
    "name": "EstroPro",
    "points": 18,
    "price": 45.0
  },
  {
    "item": "131",
    "name": "Procosa",
    "points": 26,
    "price": 66.0
  },
  {
    "item": "113",
    "name": "Visionex DS",
    "points": 25,
    "price": 65.0
  },
  {
    "item": "143",
    "name": "Booster C 600",
    "points": 19,
    "price": 66.0
  },
  {
    "item": "147",
    "name": "Metabolism+",
    "points": 18,
    "price": 54.0
  },
  {
    "item": "146",
    "name": "Proglucamune",
    "points": 26,
    "price": 80.0
  },
  {
    "item": "109",
    "name": "Vitamin D",
    "points": 14,
    "price": 34.0
  },
  {
    "item": "115",
    "name": "Mind + Body Balance",
    "points": 12,
    "price": 43.0
  },
  {
    "item": "108",
    "name": "USANA Probiotic",
    "points": 17,
    "price": 45.0
  },
  {
    "item": "111",
    "name": "Digestive Enzyme",
    "points": 21,
    "price": 51.0
  },
  {
    "item": "135",
    "name": "Hepasil DTX",
    "points": 26,
    "price": 69.0
  },
  {
    "item": "201",
    "name": "Detox Tea Drink",
    "points": 10,
    "price": 35.0
  },
  {
    "item": "224",
    "name": "Fibergy Active",
    "points": 16,
    "price": 48.0
  },
  {
    "item": "259",
    "name": "Nutrimeal Active, Chocolate",
    "points": 15,
    "price": 80.0
  },
  {
    "item": "255",
    "name": "Nutrimeal Active, Vanilla",
    "points": 15,
    "price": 80.0
  },
  {
    "item": "938",
    "name": "Botanical Beverage Cranberry w/Collagen Peptide",
    "points": 17,
    "price": 55.0
  },
  {
    "item": "398",
    "name": "Whitening Toothpaste",
    "points": 3,
    "price": 12.0
  },
  {
    "item": "330",
    "name": "Conditioning Makeup Remover",
    "points": 11,
    "price": 42.0
  },
  {
    "item": "348",
    "name": "Bi-Phase Makeup Remover",
    "points": 12,
    "price": 42.0
  },
  {
    "item": "333",
    "name": "Creamy Foam Cleanser",
    "points": 12,
    "price": 42.0
  },
  {
    "item": "331",
    "name": "Perfecting Toner",
    "points": 23,
    "price": 68.0
  },
  {
    "item": "339",
    "name": "Vitalizing Serum",
    "points": 65,
    "price": 155.0
  },
  {
    "item": "347",
    "name": "Triple Action Eye Cream",
    "points": 60,
    "price": 130.0
  },
  {
    "item": "342",
    "name": "Hydrating + Lifting Sheet Mask",
    "points": 12,
    "price": 36.0
  },
  {
    "item": "345",
    "name": "Radiant Facial Oil",
    "points": 35,
    "price": 90.0
  },
  {
    "item": "334",
    "name": "Protective Day Lotion",
    "points": 22,
    "price": 60.0
  },
  {
    "item": "335",
    "name": "Protective Day Cream",
    "points": 22,
    "price": 60.0
  },
  {
    "item": "358",
    "name": "Contouring Face & Neck CrÃ¨me",
    "points": 60,
    "price": 135.0
  },
  {
    "item": "341",
    "name": "Exfoliating Scrub + Mask",
    "points": 11,
    "price": 39.0
  },
  {
    "item": "366",
    "name": "Postbiotic Barrier Balm",
    "points": 18,
    "price": 50.0
  },
  {
    "item": "367",
    "name": "Postbiotic Rescue Serum",
    "points": 22,
    "price": 66.0
  },
  {
    "item": "368",
    "name": "Postbiotic Calming Cleanser",
    "points": 12,
    "price": 44.0
  },
  {
    "item": "369",
    "name": "Postbiotic Soothing Moisturizer",
    "points": 19,
    "price": 60.0
  },
  {
    "item": "355",
    "name": "Resurfacing Serum",
    "points": 65,
    "price": 155.0
  },
  {
    "item": "500",
    "name": "TrueHealth and TrueWealth Brochure",
    "points": 0,
    "price": 5.0
  },
  {
    "item": "824",
    "name": "Business Accelerator Suite",
    "points": 0,
    "price": 26.0
  },
  {
    "item": "828",
    "name": "Web eMail",
    "points": 0,
    "price": 6.25
  },
  {
    "item": "799",
    "name": "USANA Non Woven Bag",
    "points": 0,
    "price": 14.0
  },
  {
    "item": "763",
    "name": "Celavive Draw String Pouch",
    "points": 0,
    "price": 20.0
  },
  {
    "item": "752",
    "name": "Pink Blender Bottle",
    "points": 0,
    "price": 14.0
  },
  {
    "item": "752",
    "name": "Blue Blender Bottle",
    "points": 0,
    "price": 14.0
  },
  {
    "item": "752",
    "name": "Black Steel BlenderBottle",
    "points": 0,
    "price": 38.0
  },
  {
    "item": "752",
    "name": "Black/Mint Blender Bottle",
    "points": 0,
    "price": 20.0
  },
  {
    "item": "714",
    "name": "Celavive Mini Sampling Bottles",
    "points": 0,
    "price": 3.5
  },
  {
    "item": "762",
    "name": "Nutrition Pouch",
    "points": 0,
    "price": 5.0
  }
];

        let productsData = [];
        let allProducts = [];
        let currentSort = { column: null, ascending: true };

        // Initialize
        window.onload = function() {
            loadProducts();
        };

        function loadProducts() {
            allProducts = USANA_PRODUCTS.map((product, index) => ({
                id: index,
                item: product.item,
                name: product.name,
                points: product.points,
                price: product.price,
                quantity: 0
            }));

            productsData = [...allProducts];
            displayPricelist();
        }

        function displayPricelist() {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';

            if (productsData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="6" class="no-results">No products found</td></tr>';
                return;
            }

            productsData.forEach(product => {
                const row = document.createElement('tr');
                row.dataset.productId = product.id;
                row.innerHTML = `
                    <td class="item-number">${product.item}</td>
                    <td class="product-name">${product.name}</td>
                    <td class="points">${product.points}</td>
                    <td class="price">$${product.price.toFixed(2)}</td>
                    <td style="text-align: center;">
                        <input type="number" 
                               class="qty-input" 
                               value="0" 
                               min="0" 
                               data-id="${product.id}"
                               onchange="updateQuantity(${product.id}, this.value)"
                               onclick="this.select()">
                    </td>
                    <td class="subtotal" id="subtotal-${product.id}">$0.00</td>
                `;
                tableBody.appendChild(row);
            });

            updateGrandTotal();
        }

        function updateQuantity(id, qty) {
            const quantity = parseInt(qty) || 0;
            const product = allProducts.find(p => p.id === id);
            if (!product) return;

            product.quantity = quantity;

            const subtotal = product.price * quantity;
            const subtotalEl = document.getElementById(`subtotal-${id}`);
            const qtyInput = document.querySelector(`input[data-id="${id}"]`);
            
            subtotalEl.textContent = `$${subtotal.toFixed(2)}`;
            
            // Add visual feedback
            if (quantity > 0) {
                qtyInput.classList.add('has-value');
                subtotalEl.classList.add('has-value');
            } else {
                qtyInput.classList.remove('has-value');
                subtotalEl.classList.remove('has-value');
            }

            // Trigger animation
            subtotalEl.style.animation = 'none';
            setTimeout(() => {
                subtotalEl.style.animation = '';
            }, 10);

            updateGrandTotal();
        }

        function updateGrandTotal() {
            const total = allProducts.reduce((sum, product) => {
                return sum + (product.price * product.quantity);
            }, 0);

            document.getElementById('grandTotal').textContent = `$${total.toFixed(2)}`;
        }

        function resetQuantities() {
            if (confirm('Are you sure you want to reset all quantities to 0?')) {
                allProducts.forEach(product => {
                    product.quantity = 0;
                });

                document.querySelectorAll('.qty-input').forEach(input => {
                    input.value = 0;
                    input.classList.remove('has-value');
                });

                document.querySelectorAll('.subtotal').forEach(cell => {
                    cell.textContent = '$0.00';
                    cell.classList.remove('has-value');
                });

                updateGrandTotal();
            }
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (searchTerm === '') {
                productsData = [...allProducts];
            } else {
                productsData = allProducts.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.item.toLowerCase().includes(searchTerm)
                );
            }
            
            displayPricelist();
        }

        function sortTable(column) {
            // Update sort direction
            if (currentSort.column === column) {
                currentSort.ascending = !currentSort.ascending;
            } else {
                currentSort.column = column;
                currentSort.ascending = true;
            }

            // Remove all sort classes
            document.querySelectorAll('th').forEach(th => {
                th.classList.remove('sorted-asc', 'sorted-desc');
            });

            // Add sort class to current column
            const headerMap = {
                'item': 0,
                'name': 1,
                'points': 2,
                'price': 3,
                'subtotal': 5
            };
            
            const thIndex = headerMap[column];
            const th = document.querySelectorAll('th')[thIndex];
            th.classList.add(currentSort.ascending ? 'sorted-asc' : 'sorted-desc');

            // Sort the data
            productsData.sort((a, b) => {
                let valA, valB;

                if (column === 'subtotal') {
                    valA = a.price * a.quantity;
                    valB = b.price * b.quantity;
                } else if (column === 'item') {
                    // Sort item numbers numerically
                    valA = parseInt(a.item.replace(/[^\d]/g, '')) || 0;
                    valB = parseInt(b.item.replace(/[^\d]/g, '')) || 0;
                } else if (column === 'name') {
                    valA = a[column].toLowerCase();
                    valB = b[column].toLowerCase();
                    return currentSort.ascending 
                        ? valA.localeCompare(valB)
                        : valB.localeCompare(valA);
                } else {
                    valA = a[column];
                    valB = b[column];
                }

                if (currentSort.ascending) {
                    return valA - valB;
                } else {
                    return valB - valA;
                }
            });

            displayPricelist();
        }
    </script>
</body>
</html>
